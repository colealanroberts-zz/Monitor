$(function(){function o(){return window.devicePixelRatio>1||2===window.devicePixelRatio?!0:void console.log("Non Retina")}function n(){var n=$(".loader"),a=o(),t;t=a===!0?80:40,n.circleProgress({value:1,size:t,thickness:5,lineCap:"round",emptyFill:"rgba(255, 255, 255, 0.1)",fill:{gradient:["#5BD8E4","#0099FF"]},animation:{duration:m},animationStartValue:0})}function a(){return y.length}function t(o){var n=["","K","M","B","T"],a=Math.floor((""+o).length/3),t=parseFloat((0!==a?o/Math.pow(1e3,a):o).toPrecision(2));return t%1!=0&&(shortNum=t.toFixed(1)),t+n[a]}function e(o){var n=o;console.log(n)}function s(o){var n=$(".stock__list"),a=o;console.log(a);var e=t(a.MarketCap);n.append('<li class="stock__company" data-symbol="'+a.Symbol+'"><span class="stock__row stock__row--name">'+a.Name+'</span> <span class="stock__row stock__row--sym">'+a.Symbol+'</span> <span class="stock__row stock__row--market-cap">$'+e+'</span> <span class="stock__row stock__row--change-pct">$'+a.Change.toFixed(2)+" :: "+a.ChangePercent.toFixed(2)+'%</span> <span class="stock__row stock__row--last-price>$'+a.LastPrice+"</li>")}function c(){for(var o=0;v>o;o++)i(y[o])}function i(o){$.ajax({url:_+o,type:"GET",contentType:"application/json",dataType:"jsonp"}).success(function(o){s(o)}).done(function(){l()})}function r(){var o=$(this).data("symbol");console.log(o),$.ajax({url:f+o+k,type:"GET",contentType:"application/json",dataType:"jsonp"}).success(function(o){e(o)})}function l(){$(".stock__company").unbind().click(r)}var p,u=1e3,d=6e4,m=2*d,_="http://dev.markitondemand.com/Api/v2/Quote/jsonp?symbol=",f="http://dev.markitondemand.com/Api/v2/InteractiveChart/jsonp?parameters=%7B%22Normalized%22%3Afalse%2C%22NumberOfDays%22%3A365%2C%22DataPeriod%22%3A%22Day%22%2C%22Elements%22%3A%5B%7B%22Symbol%22%3A%22",k="%22%2C%22Type%22%3A%22price%22%2C%22Params%22%3A%5B%22c%22%5D%7D%5D%7D",y=["AAPL","NFLX","SQ","GE","GPRO","TWTR"],v=a();c(),n(),setInterval(function(){c(),n()},m)});