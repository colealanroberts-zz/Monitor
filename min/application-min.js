$(function(){function t(){var t,o,a,n,e,s,i;return t=$(".navbar"),o=$(".stock__list"),a=t.height(),n=o.height(),e=a+n,s=$(window).height(),i=s-(e+46)}function o(){return window.devicePixelRatio>1||2===window.devicePixelRatio?!0:void console.log("Non Retina")}function a(){var t=$(".loader"),a=o(),n;n=a===!0?80:40,t.circleProgress({value:1,size:n,thickness:5,lineCap:"round",emptyFill:"rgba(255, 255, 255, 0.1)",fill:{gradient:["#5BD8E4","#0099FF"]},animation:{duration:v},animationStartValue:0})}function n(){return g.length}function e(t){var o=["","K","M","B","T"],a=Math.floor((""+t).length/3),n=parseFloat((0!==a?t/Math.pow(1e3,a):t).toPrecision(2));return n%1!=0&&(shortNum=n.toFixed(1)),n+o[a]}function s(o){var a,n;a=o,n=t(),console.log(a);var e=a.Dates,s=a.Elements[0].DataSeries.close.values,a={labels:e,series:[s]},i={height:n,stretch:!0,showPoint:!1,fullWidth:!0};new Chartist.Line(".chart-history",a,i)}function i(t){var o=$(".stock__list"),a=t;console.log(a);var n=e(a.MarketCap);o.append('<li class="stock__company" data-symbol="'+a.Symbol+'"><span class="stock__row stock__row--name">'+a.Name+'</span> <span class="stock__row stock__row--sym">'+a.Symbol+'</span> <span class="stock__row stock__row--market-cap">$'+n+'</span> <span class="stock__row stock__row--change-pct">$'+a.Change.toFixed(2)+" :: "+a.ChangePercent.toFixed(2)+'%</span> <span class="stock__row stock__row--last-price>$'+a.LastPrice+"</li>")}function c(){for(var t=0;b>t;t++)r(g[t])}function r(t){$.ajax({url:k+t,type:"GET",contentType:"application/json",dataType:"jsonp"}).success(function(t){i(t)}).done(function(){p()})}function l(){var t=$(this).data("symbol");$.ajax({url:y+t+w,type:"GET",contentType:"application/json",dataType:"jsonp"}).success(function(t){s(t)})}function p(){$(".stock__company").unbind().click(l)}var u,d=1e3,m=6e4,_=30,h=3*_,f=365,v=m/2,k="http://dev.markitondemand.com/Api/v2/Quote/jsonp?symbol=",y="http://dev.markitondemand.com/Api/v2/InteractiveChart/jsonp?parameters=%7B%22Normalized%22%3Afalse%2C%22NumberOfDays%22%3A90%2C%22DataPeriod%22%3A%22Day%22%2C%22Elements%22%3A%5B%7B%22Symbol%22%3A%22",w="%22%2C%22Type%22%3A%22price%22%2C%22Params%22%3A%5B%22c%22%5D%7D%5D%7D",g=["AAPL","NFLX","SQ","GE","GPRO","TWTR"],b=n();u=t(),c(),a(),setInterval(function(){c(),a()},v)});