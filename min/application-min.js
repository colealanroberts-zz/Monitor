$(function(){function o(){return l.length}function n(o){var n=["","K","M","B","T"],t=Math.floor((""+o).length/3),s=parseFloat((0!==t?o/Math.pow(1e3,t):o).toPrecision(2));return s%1!=0&&(shortNum=s.toFixed(1)),s+n[t]}function t(o){var t=$(".stock__list"),s=o;console.log(s);var a=n(s.MarketCap);t.append('<li class="stock__company" data-symbol="'+s.Symbol+'"><span class="stock__row stock__row--name">'+s.Name+'</span> <span class="stock__row stock__row--sym">'+s.Symbol+'</span> <span class="stock__row stock__row--market-cap">$'+a+'</span> <span class="stock__row stock__row--change-pct">$'+s.Change.toFixed(2)+" :: "+s.ChangePercent.toFixed(2)+'%</span> <span class="stock__row stock__row--last-price>$'+s.LastPrice+"</li>")}function s(){for(var o=0,n=l.length;n>o;o++)a(l[o])}function a(o){$.ajax({url:r+o,type:"GET",contentType:"application/json",dataType:"jsonp"}).success(function(o){t(o)}).done(function(){e()})}function c(){var o=$(this);console.log(o.data("symbol"))}function e(){$(".stock__company").unbind().click(c)}var r="http://dev.markitondemand.com/Api/v2/Quote/jsonp?symbol=",l=["AAPL","NFLX","SQ","GE","GPRO","TWTR"],i=o();console.log(i),s(),setInterval(function(){s()},3e4)});